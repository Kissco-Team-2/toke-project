<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>로그인</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet" href="/css/style.css">
</head>
<style>
body {
	background: #f7f7f7;
}

.card-soft {
	border: 0;
	border-radius: 12px;
	background: #fff;
	box-shadow: 0 10px 24px rgba(0, 0, 0, .06);
}

.card-body {
	padding: 48px 40px;
}

.form-control {
	background: #efefef;
	border-radius: 8px;
}

.btn-soft-green {
	background: #caf7cf;
	color: #000;
	border: 0;
	font-weight: 600;
}

.btn-soft-green:hover {
	background: #bfe3ce;
	color: #0f5132;
}

.btn-black {
	background: #000;
	color: #fff;
	border: 0;
	font-weight: 600;
}

.btn-black:hover {
	background: #111;
	color: #fff;
}

.form-control::placeholder {
	color: #c0c0c0;
	opacity: 1;
	font-size: 0.8rem;
	opacity: 1;
}
</style>
<body class="d-flex flex-column min-vh-100">
	<main class="flex-grow-1">
		<div class="container p-5">
			<div class="row justify-content-center">
				<div class="card card-soft"
					style="width: 670px; height: 480px; padding: 24px;">
					<div class="card-body">
						<h2 class="text-center fw-bold">로그인</h2>
						<div style="padding: 20px;">

							<form th:action="@{/login}" method="post" class="mt-3">
								<div class="row mb-4 align-items-center">
									<div class="col-12 mx-auto">
										<input type="text" id="email" name="email"
											class="form-control" placeholder="이메일 입력">
									</div>
								</div>

								<div class="row mb-4 align-items-center">
									<div class="col-12 mx-auto">
										<input type="password" id="password" name="password"
											class="form-control" placeholder="비밀번호 입력">
									</div>
								</div>
								<div class="d-flex justify-content-end"
									style="margin-top: 3rem;">
									<button type="button"
										class="btn btn-link text-dark small me-3 p-0"
										data-bs-toggle="modal" data-bs-target="#findAccountModal">
										이메일 / 비밀번호 찾기</button>

								</div>
								<div class="row g-3" style="margin-top: 0.3rem;">
									<div class="col-6 d-grid">
										<button type="submit" class="btn btn-soft-green py-2">로그인</button>
									</div>
									<div class="col-6 d-grid">
										<button type="button" class="btn btn-black py-2">회원가입</button>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>
	<footer th:replace="fragments/footer :: site-footer"></footer>
	<div th:replace="fragments/find_account_modal :: findAccountModal"></div>
	<div
		th:replace="fragments/find_email_result_modal :: findEmailResultModal"></div>
	<script th:inline="javascript">
		document.addEventListener('DOMContentLoaded', function() {
			// 서버에서 온 flash attribute 존재 여부 체크
			var hasEmail = /*[[${email} != null]]*/false;
			var hasError = /*[[${error} != null]]*/false;

			// 이메일 탭을 기본 활성화(선택)
			if (location.hash === '#find-email') {
				const emailBtn = document
						.querySelector('.tab-btn[data-target="#tabEmail"]');
				if (emailBtn)
					emailBtn.click();
			}

			// 결과가 있으면 모달 표시
			if (hasEmail || hasError) {
				var modalEl = document.getElementById('findEmailResultModal');
				if (modalEl) {
					var modal = new bootstrap.Modal(modalEl);
					modal.show();
				}
			}
		});
	</script>
	s

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>